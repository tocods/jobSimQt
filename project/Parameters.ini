[General]
network = TargetNetwork
sim-time-limit = 1.0s
**.statistic-recording = false
*.*.ethernet.typename = "EthernetLayer"
*.*.eth[*].typename = "LayeredEthernetInterface"
*.*.eth[*].bitrate = 100Mbps
**.eth[*].queue.typename = "DropTailQueue"
**.eth[*].queue.packetCapacity = 20
**.forwarding = false
**.arp.retryTimeout = 1s
**.arp.retryCount = 3
**.arp.cacheTimeout = 100s
**.tcp.tcpAlgorithmClass = "TcpReno"
**.tcp.typename = "Tcp"
**.tcp.advertisedWindow = 65535
**.tcp.delayedAcksEnabled = false
**.tcp.nagleEnabled = true
**.tcp.limitedTransmitEnabled = false
**.tcp.increasedIWEnabled = false
**.tcp.sackSupport = false
**.tcp.windowScalingSupport = false
**.tcp.timestampSupport = false
**.tcp.mss = 1452
*.configurator.config = xml("<config><interface hosts='**' address='192.x.x.x' netmask='255.x.x.x'/></config>")
*.tsn.numApps = 1
*.tsn.app[0].typename = "UdpApp615"
*.tsn.app[0].source.packetLength = 1000B
*.tsn.app[0].source.productionInterval = exponential(100us)
*.tsn.app[0].io.destAddress = "tsn3"
*.tsn.app[0].io.destPort = 1000
*.tsn.app[0].sink.typename = ""

*.tsn.hasOutgoingStreams = true
*.tsn.bridging.streamIdentifier.identifier.mapping = [{stream: "best-effort", packetfilter: expr(udp.destPort == 1000)}]
*.tsn.bridging.streamCoder.encoder.mapping = [{stream: "best-effort", pcp: 0},{stream: "time-triggered", pcp: 4},{stream: "ack", pcp: 5}]

*.tsn2.numApps = 1
*.tsn2.app[0].typename = "TcpSessionApp"
*.tsn2.app[0].sendBytes = 100MiB
*.tsn2.app[0].active = true
*.tsn2.app[0].localPort = 1000
*.tsn2.app[0].connectAddress = "tsn3"
*.tsn2.app[0].connectPort = 1002
*.tsn2.app[0].tOpen = 0s
*.tsn2.app[0].tSend = 0s
*.tsn2.app[0].tClose = 0s
*.tsn2.app[0].sendScript = ""

*.tsn2.hasOutgoingStreams = true
*.tsn2.bridging.streamIdentifier.identifier.mapping = [{stream: "time-triggered", packetfilter: expr(tcp.destPort == 1002)}]
*.tsn2.bridging.streamCoder.encoder.mapping = [{stream: "best-effort", pcp: 0},{stream: "time-triggered", pcp: 4},{stream: "ack", pcp: 5}]

*.tsn3.numApps = 2
*.tsn3.app[0].typename = "UdpApp615"
*.tsn3.app[0].source.typename = ""
*.tsn3.app[0].io.destPort = -1
*.tsn3.app[0].io.localPort = 1000
*.tsn3.app[0].sink.flowName = "BE_testflow"

*.tsn3.app[1].typename = "TcpSinkApp"
*.tsn3.app[1].localPort = 1002
*.tsn3.app[1].flowName = "TT_testflow"

*.tsn3.hasOutgoingStreams = true
*.tsn3.bridging.streamCoder.encoder.mapping = [{stream: "best-effort", pcp: 0},{stream: "time-triggered", pcp: 4},{stream: "ack", pcp: 5}]

*.tsn_switch.eth[*].bitrate = 100Mbps
*.tsn_switch.hasEgressTrafficShaping = true
*.tsn_switch.bridging.directionReverser.reverser.excludeEncapsulationProtocols = ["ieee8021qctag"]
*.tsn_switch.eth[*].macLayer.queue.numTrafficClasses = 2
*.tsn_switch.eth[*].macLayer.queue.*[0].display-name = "best-effort"
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[0].offset = 0ms
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[0].durations = [1ms, 1ms, 0.1ms, 1.9ms]
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[0].initiallyOpen = false
*.tsn_switch.eth[*].macLayer.queue.queue[0].packetCapacity = 100
*.tsn_switch.eth[*].macLayer.queue.*[1].display-name = "time-triggered"
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[1].offset = 0ms
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[1].durations = [1ms,1ms]
*.tsn_switch.eth[*].macLayer.queue.transmissionGate[1].initiallyOpen = true
*.tsn_switch.eth[*].macLayer.queue.queue[1].packetCapacity = 100


